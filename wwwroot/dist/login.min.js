const loginInput=document.getElementById("js-auth-login"),loginError=document.getElementById("js-auth-login-error"),passwordInput=document.getElementById("js-auth-password"),passwordError=document.getElementById("js-auth-password-error"),submit=document.getElementById("js-auth-submit");function setErrors(r,e){r?(loginError.innerText=r,loginInput.classList.add("border-c-red"),loginError.classList.remove("hidden")):(loginInput.classList.remove("border-c-red"),loginError.classList.add("hidden")),e?(passwordError.innerText=e,passwordInput.classList.add("border-c-red"),passwordError.classList.remove("hidden")):(passwordInput.classList.remove("border-c-red"),passwordError.classList.add("hidden"))}function validate(r,e){let o="",t="";return r||(o="Поле является обязательным"),e||(t="Поле является обязательным"),!o&&!t||(setErrors(o,t),!1)}Store.getItem("user")&&window.location.replace("/home"),submit.addEventListener("click",async r=>{r.preventDefault(),setErrors();var e=loginInput.value,o=passwordInput.value;if(validate(e,o)){var t=window.location.origin;try{var s=await(await fetch(t+"/api/login/login",{method:"POST",body:JSON.stringify({login:e,hash:MD5(e+o)}),headers:{"Content-Type":"application/json"}})).json();Store.setItem("user",{login:e,id:s}),window.location.replace("/home")}catch(r){console.error(r)}}});